<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4SP - HOME</title>
    <meta name="description" content="A multi-tool toolkit for students, featuring soundboards, utility apps, and QOL features like Tab Disguising and Panic keys.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6659160370587814"
     crossorigin="anonymous"></script>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="navigation-mini.js" defer></script>

    <style>
        :root {
            --geist-foreground: 255, 255, 255;
            --geist-background: 0, 0, 0;
        }
        .dark { color-scheme: dark; }
        body { font-family: 'Geist', sans-serif; }
        .gradient-text {
            background-image: linear-gradient(90deg, #0070f3, #f81ce5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .carousel-button {
            width: 40px; /* Adjust as needed */
            height: 40px; /* Adjust as needed */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%; /* Make it a perfect circle */
            border: none;
            cursor: pointer;
            backdrop-filter: blur(8px) saturate(180%); /* Blur and saturate */
            -webkit-backdrop-filter: blur(8px) saturate(180%); /* For Safari */
            transition: background-color 0.3s ease;
        }

        /* Section-specific hues */
        .carousel-button-purple-hue {
            background-color: rgba(139, 92, 246, 0.3); /* purple-500 with transparency */
        }
        .carousel-button-purple-hue:hover {
            background-color: rgba(139, 92, 246, 0.5);
        }

        .carousel-button-blue-hue {
            background-color: rgba(96, 165, 250, 0.3); /* blue-400 with transparency */
        }
        .carousel-button-blue-hue:hover {
            background-color: rgba(96, 165, 250, 0.5);
        }

        .carousel-button-green-hue {
            background-color: rgba(52, 211, 153, 0.3); /* green-400 with transparency */
        }
        .carousel-button-green-hue:hover {
            background-color: rgba(52, 211, 153, 0.5);
        }
    </style>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-1D4F692C1Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1D4F692C1Q');
</script>    
</head>
<body class="min-h-screen" style="background-color: var(--page-bg); color: var(--menu-text);">
    <main>
        <section class="text-center border-b border-gray-900" style="padding-top: 2rem">
            <div class="mx-auto max-w-4xl px-4">
                <h1 class="text-3xl sm:text-4xl font-light text-gray-300 tracking-tighter mb-4 leading-tight">
                    Merry Christmas Everyone!
                </h1>
                <h2 class="text-5xl sm:text-6xl font-light tracking-tighter mb-4 leading-tight">
                    <span class="gradient-text font-bold">The Essential Student Toolkit.</span>
                </h2>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto mb-6 font-light">
                    4simpleproblems (4SP) is a multi-tool platform offering soundboards, study apps, and essential Quality-of-Life (QOL) features like Tab Disguising and Panic Keysâ€”all designed to make student life easier and more fun.
                </p>
                <div id="auth-button-container">
                    <a id="auth-button" href="../authentication.html" class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-normal rounded-xl shadow-sm text-white bg-white/10 ring-1 ring-white/20 hover:bg-white/20 transition">
                        Get Started Instantly <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
                <p id="pronunciation-text" class="text-base text-gray-600 mt-2 mb-2 italic font-light">
                    4simpleproblems is pronounced: fÉ”r sÉªmpÉ™l pÉ¹É‘blÉ™mz
                </p>
                <p class="text-base text-gray-600 mt-2 mb-4 italic font-light">
                    <a href="https://discord.gg/A798ZZUgca" target="_blank" class="text-white hover:underline transition">
                        Go to Discord Server
                    </a>
                </p>
                </div>
        </section>

        <section id="features" class="py-16 mx-auto max-w-7xl px-4 space-y-16">
             <h2 class="text-4xl font-light text-center mb-8">Core Features of 4SP</h2>

            <div class="lg:grid lg:grid-cols-2 lg:gap-12 items-center">

                <div class="lg:pr-4 order-2 lg:order-1 mb-6 lg:mb-0">
                    <span class="text-sm font-light text-green-400 uppercase tracking-widest mb-2 block">Toolkit Core</span>
                    <h3 class="text-4xl font-light mb-3 mt-2">Soundboard</h3>
                    <p class="text-xl text-gray-400 mb-5 font-light">
                        Access our dynamic, low-latency soundboard to play your favorite sounds. Use the autoclicker and the sound overlay features for the best experience.
                    </p>
                    <a href="/logged-in/soundboard.html" class="inline-flex items-center text-green-400 font-normal hover:text-green-300 transition">
                        Explore Soundboard &rarr;
                    </a>
                </div>

                <div class="relative w-full h-64 overflow-hidden rounded-3xl border border-green-800/50 shadow-2xl bg-gray-900 flex items-center justify-center order-1 lg:order-2 mb-6 lg:mb-0">
                    <img src="doc-images/soundboard.png" alt="Soundboard Feature" class="w-full h-full object-cover">
                </div>
            </div>

            <div class="lg:grid lg:grid-cols-2 lg:gap-12 items-center">

                <div class="relative w-full h-64 overflow-hidden rounded-3xl border border-blue-800/50 shadow-2xl bg-gray-900 flex items-center justify-center order-1 lg:order-1 mb-6 lg:mb-0">
                    <div class="image-carousel-container relative w-full h-full">
                        <img src="doc-images/notes.png" alt="Notes feature (aspect ratio: 16:9)" class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-100">
                        <img src="doc-images/countdowns.png" alt="Countdowns feature (aspect ratio: 16:9)" class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-0">
                        <img src="doc-images/dictionary.png" alt="Dictionary feature (aspect ratio: 16:9)" class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-0">

                        <button class="carousel-button carousel-button-blue-hue prev-button absolute top-1/2 left-4 -translate-y-1/2 p-2 text-white z-20">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <button class="carousel-button carousel-button-blue-hue next-button absolute top-1/2 right-4 -translate-y-1/2 p-2 text-white z-20">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <div class="lg:pl-4 order-2 lg:order-2 mb-6 lg:mb-0">
                    <span class="text-sm font-light text-blue-400 uppercase tracking-widest mb-2 block">Productivity Suite</span>
                    <h3 class="text-4xl font-light mb-3 mt-2">Essential Apps for Success</h3>
                    <p class="text-xl text-gray-400 mb-5 font-light">
                        A suite of utilities built for academic success, keeping your notes, deadlines, and schedule organized in one place.
                    </p>
                    <ul class="space-y-2 text-lg text-gray-300">
                        <li class="flex items-center"><i class="fas fa-sticky-note fa-fw w-5 mr-3 text-blue-500"></i><span class="font-light mr-2">Notes:</span>Simple, persistent storage for quick thoughts.</li>
                        <li class="flex items-center"><i class="fas fa-hourglass-half fa-fw w-5 mr-3 text-blue-500"></i><span class="font-light mr-2">Countdowns:</span>Track due dates and exam times seamlessly.</li>
                        <li class="flex items-center"><i class="fas fa-book fa-fw w-5 mr-3 text-blue-500"></i><span class="font-light mr-2">Dictionary:</span>Quickly look up definitions.</li>
                    </ul>
                </div>
            </div>

            <div class="lg:grid lg:grid-cols-2 lg:gap-12 items-center">
                <div class="lg:pr-4 order-2 lg:order-1 mb-6 lg:mb-0">
                    <span class="text-sm font-light text-purple-400 uppercase tracking-widest mb-2 block">Customization & Utility</span>
                    <h3 class="text-4xl font-light mb-3 mt-2">QOL & Personalization Features</h3>
                    <p class="text-xl text-gray-400 mb-5 font-light">
                        Quality-of-Life tools designed to help you manage distractions instantly and personalize your experience.
                    </p>
                    <ul class="space-y-2 text-lg text-gray-300">
                        <li class="flex items-center"><i class="fas fa-thumbtack fa-fw w-5 mr-3 text-purple-500"></i><span class="font-light mr-2">Pin Button:</span>Pin any app to the navigation for quick access.</li>
                        <li class="flex items-center"><i class="fas fa-palette fa-fw w-5 mr-3 text-purple-500"></i><span class="font-light mr-2">Theme Changing:</span>Personalize your experience with theming.</li>
                        <li class="flex items-center"><i class="fas fa-eye-slash fa-fw w-5 mr-3 text-purple-500"></i><span class="font-light mr-2">Tab Disguising:</span>Instantly change the tab title/favicon to blend in.</li>
                    </ul>
                </div>

                <div class="relative w-full h-64 overflow-hidden rounded-3xl border border-purple-800/50 shadow-2xl bg-gray-900 flex items-center justify-center order-1 lg:order-2 mb-6 lg:mb-0">
                    <div class="image-carousel-container relative w-full h-full">
                        <img src="doc-images/pin-button.png" alt="Pin Button feature" class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-100">
                        <img src="doc-images/theme-changer.png" alt="Theme Changing features" class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-0">
                        <img src="doc-images/tab-disguiser.png" alt="Tab Disguise Preset feature" class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-0">

                        <button class="carousel-button carousel-button-purple-hue prev-button absolute top-1/2 left-4 -translate-y-1/2 p-2 text-white z-20">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <button class="carousel-button carousel-button-purple-hue next-button absolute top-1/2 right-4 -translate-y-1/2 p-2 text-white z-20">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-12 mx-auto max-w-7xl px-4 text-center border-t border-gray-900">
            <h2 class="text-xl font-light text-gray-400 mb-2">Powered by Modern Cloud Tools</h2>
            <p class="text-gray-500 text-lg font-light">
                <strong class="text-white font-normal">Authentication and Backend Infrastructure</strong>
                are handled robustly using
                <strong class="text-white font-normal">Firebase</strong>,
                ensuring secure, reliable, and scalable user management for all your student tools.
            </p>
        </section>

    </main>

    <footer class="border-t border-gray-900 py-6">
        <div class="mx-auto max-w-7xl px-4 text-center text-gray-500 text-sm">
            &copy; 2025 4simpleproblems (4SP). Built for students.
            <span class="mx-2">|</span>
            <a href="legal.html#terms-of-service" class="hover:underline">Terms of Service</a>
            <span class="mx-2">|</span>
            <a href="legal.html#privacy-policy" class="hover:underline">Privacy Policy</a>
        </div>
    </footer>

    <div id="cookie-overlay" class="fixed inset-0 bg-black/70 z-[9999] transition-opacity duration-300 opacity-0" style="display: none;">
        <div id="cookie-banner" class="absolute bottom-4 left-1/2 -translate-x-1/2 w-full max-w-7xl px-4">
            <div class="bg-black/95 text-white p-4 sm:p-6 rounded-3xl border border-gray-700 shadow-2xl backdrop-blur-md flex flex-col md:flex-row items-start md:items-center justify-between space-y-4 md:space-y-0 md:space-x-6">
                <div class="flex-1 min-w-0">
                    <h3 class="text-xl font-normal mb-1">4SP Uses Cookies</h3>
                    <p class="text-sm text-gray-300 mb-2 font-light">
                        We use cookies to ensure the core functionality of authentication (via Firebase) and to analyze site traffic for improvements. This data is non-personal and essential for our services.
                    </p>
                    <div class="space-x-3 text-xs">
                        <a href="https://policies.google.com/technologies/cookies" target="_blank" class="text-blue-400 hover:text-blue-300 underline transition">
                            Extra (What are cookies?)
                        </a>
                        <a class="text-gray-500 pointer-events-none">|</a>
                        <a href="../legal.html#privacy-policy" class="text-blue-400 hover:text-blue-300 underline transition">
                            Privacy Policy
                        </a>
                    </div>
                </div>

                <div class="flex-shrink-0">
                    <button id="accept-cookies-button" class="w-full md:w-auto inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-normal rounded-xl text-white bg-purple-500/10 ring-1 ring-purple-500/50 hover:bg-purple-500/20 transition duration-150 transform hover:scale-[1.02]">
                        I Understand
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="mobile-warning-overlay" class="fixed inset-0 bg-black/95 z-[10000] flex items-center justify-center p-6" style="display: none;">
        <div class="max-w-md w-full text-center space-y-6">
            <div class="text-5xl mb-4">ðŸ“±</div>
            <h2 class="text-3xl font-light text-white tracking-tight">Device Not Recommended</h2>
            <p class="text-gray-400 text-lg font-light leading-relaxed">
                4SP (4simpleproblems) is not meant for phones or other devices with a tall aspect ratio.
                <br><br>
                It is highly recommended to switch to a wide-screen device like a laptop or desktop for the intended experience.
            </p>
            <button id="dismiss-mobile-warning" class="inline-flex items-center justify-center px-8 py-3 border border-gray-600 text-base font-normal rounded-xl text-white bg-transparent hover:bg-white/10 transition duration-200">
                Dismiss, I don't care
            </button>
        </div>
    </div>

    <script>
        (function() {
            const mobileOverlay = document.getElementById('mobile-warning-overlay');
            const dismissBtn = document.getElementById('dismiss-mobile-warning');
            const STORAGE_KEY = '4sp-mobile-warning-dismissed';

            function checkAspectRatio() {
                // Check if user has already dismissed it
                if (localStorage.getItem(STORAGE_KEY) === 'true') {
                    return;
                }

                // Check if height is greater than width (Portrait/Tall)
                if (window.innerHeight > window.innerWidth) {
                    mobileOverlay.style.display = 'flex';
                    document.body.style.overflow = 'hidden'; // Lock scroll
                } else {
                    mobileOverlay.style.display = 'none';
                    document.body.style.overflow = ''; // Unlock scroll
                }
            }

            // Check on load
            checkAspectRatio();

            // Check on resize (optional, but good if they rotate device)
            window.addEventListener('resize', checkAspectRatio);

            // Handle dismissal
            if (dismissBtn) {
                dismissBtn.addEventListener('click', () => {
                    mobileOverlay.style.display = 'none';
                    document.body.style.overflow = '';
                    localStorage.setItem(STORAGE_KEY, 'true');
                });
            }
        })();
    </script>
    
    <script type="module" src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>

    <script type="module" src="../firebase-config.js"></script>

    <script type="module">
        // --- START COOKIE LOGIC ---

        const COOKIE_KEY = '4sp-cookie-consent';
        const cookieOverlay = document.getElementById('cookie-overlay');
        const acceptCookiesButton = document.getElementById('accept-cookies-button');
        // Define transition duration in MS to match Tailwind's 'duration-300'
        const TRANSITION_DURATION_MS = 300; 

        // Function to hide the banner with fade-out
        const hideCookieBanner = () => {
            // 1. Start the fade-out (opacity 1 -> 0)
            cookieOverlay.classList.remove('opacity-100');
            cookieOverlay.classList.add('opacity-0');

            // 2. Wait for the transition to finish before setting display: none
            setTimeout(() => {
                cookieOverlay.style.display = 'none';
                // Set consent in localStorage so the banner doesn't show on future visits
                localStorage.setItem(COOKIE_KEY, 'accepted');
                // Allow scrolling on the body
                document.body.style.overflow = '';
            }, TRANSITION_DURATION_MS);
        };

        // Function to show the banner with fade-in
        const showCookieBanner = () => {
            // 1. Set display: block instantly
            cookieOverlay.style.display = 'block';
            // Prevent scrolling on the body
            document.body.style.overflow = 'hidden';

            // 2. Schedule the opacity change to trigger the transition
            // Use a small timeout (10ms) to ensure display:block is rendered first
            setTimeout(() => {
                cookieOverlay.classList.remove('opacity-0');
                cookieOverlay.classList.add('opacity-100');
            }, 10); 
        };

        // Check for existing consent when the script loads
        if (localStorage.getItem(COOKIE_KEY) !== 'accepted') {
            // If consent is not found, wait for the window to load, then show the banner
            window.addEventListener('load', showCookieBanner);
        } else {
             // If consent is found, ensure the overlay remains hidden and opacity is zero
             cookieOverlay.style.display = 'none';
             cookieOverlay.classList.remove('opacity-100');
             cookieOverlay.classList.add('opacity-0');
             document.body.style.overflow = '';
        }

        // Add event listener to the "I Understand" button
        if (acceptCookiesButton) {
            acceptCookiesButton.addEventListener('click', hideCookieBanner);
        }

        // --- END COOKIE LOGIC ---


        // Constants for button content
        const DASHBOARD_HTML = 'Go to Dashboard <i class="fas fa-arrow-right ml-2"></i>';
        const GET_STARTED_HTML = 'Get Started Instantly <i class="fas fa-arrow-right ml-2"></i>';

        // NOTE: The BETA_FORM_URL is no longer needed but kept for completeness in the JS structure.
        const BETA_FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSdWdL4RTE8p7t7gMGYpIHYiYcV__sNa8vOlwOCQyoolKuQimQ/viewform?usp=publish-editor";


        // Import the required functions and the config object
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js';
        import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js';

        // This line imports the configuration object exported from your file.
        import { firebaseConfig } from '../firebase-config.js';

        // 1. Initialize the Firebase App using the imported configuration.
        const app = initializeApp(firebaseConfig);

        // 2. Get the Firebase Auth instance
        const auth = getAuth(app);

        // 3. Reference to the button and new elements
        const authButton = document.getElementById('auth-button');
        // NOTE: Renamed betaCtaContainer to releaseCtaContainer in HTML, updating variable name here.
        const releaseCtaContainer = document.getElementById('release-cta-container');
        // NOTE: betaApplyLink is no longer needed but kept for completeness in the JS structure.
        const betaApplyLink = document.getElementById('beta-apply-link');


        /**
         * Listens for changes in the user's sign-in state.
         * If a user is logged in, it updates the button to "Go to dashboard".
         * The release CTA is always shown now, regardless of auth state, so no need to hide/show it.
         */
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // User is signed in. Change the button to "Go to dashboard".
                if (authButton) {
                    authButton.href = '../logged-in/dashboard.html';
                    authButton.innerHTML = DASHBOARD_HTML; // Use Font Awesome content
                }
            } else {
                // User is signed out. Ensure the button is set to "Get Started Instantly".
                if (authButton) {
                    authButton.href = '../authentication.html';
                    authButton.innerHTML = GET_STARTED_HTML; // Use Font Awesome content
                }
            }
            // Release CTA remains visible in both states as per the new requirement.
            if (releaseCtaContainer) {
                releaseCtaContainer.style.display = 'block';
            }
        });
    </script>
    <script type="module">
        // Carousel functionality
        document.querySelectorAll('.image-carousel-container').forEach(container => {
            const images = container.querySelectorAll('.carousel-image');
            const prevButton = container.querySelector('.prev-button');
            const nextButton = container.querySelector('.next-button');
            let currentIndex = 0;

            function showImage(index) {
                images.forEach((img, i) => {
                    if (i === index) {
                        img.classList.remove('opacity-0');
                        img.classList.add('opacity-100');
                    } else {
                        img.classList.remove('opacity-100');
                        img.classList.add('opacity-0');
                    }
                });
            }

            if (prevButton && nextButton) {
                prevButton.addEventListener('click', () => {
                    currentIndex = (currentIndex > 0) ? currentIndex - 1 : images.length - 1;
                    showImage(currentIndex);
                });

                nextButton.addEventListener('click', () => {
                    currentIndex = (currentIndex < images.length - 1) ? currentIndex + 1 : 0;
                    showImage(currentIndex);
                });
            }

            showImage(currentIndex); // Initialize first image
        });
    </script>
</body>
</html>
